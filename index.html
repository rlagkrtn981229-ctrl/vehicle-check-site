
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ê¸°ë¦°ì¸ë ¥ ì°¨ëŸ‰ì •ë³´ ì¡°íšŒ</title>
  <style>
    body { font-family: sans-serif; background: #f0f0f0; padding: 2rem; text-align: center; }
    .container { background: white; padding: 2rem; border-radius: 1rem; box-shadow: 0 0 10px rgba(0,0,0,0.1); max-width: 600px; margin: auto; }
    input, button, select { padding: 0.5rem; margin-top: 0.5rem; width: 80%; font-size: 1rem; }
    .result { margin-top: 1.5rem; background: #eee; padding: 1rem; border-radius: 0.5rem; }
    .admin-panel { margin-top: 2rem; padding: 1rem; background: #e0f7fa; border-radius: 1rem; display: none; position: relative; }
    .close-btn { position: absolute; top: 10px; right: 20px; background: red; color: white; border: none; border-radius: 50%; width: 30px; height: 30px; cursor: pointer; }
    .worker-list { text-align: left; max-height: 200px; overflow-y: auto; background: #fff; border: 1px solid #ccc; padding: 1rem; margin-top: 1rem; border-radius: 0.5rem; }
  </style>
</head>
<body>
  <div class="container">
    <h2>ê¸°ë¦°ì¸ë ¥ ì°¨ëŸ‰ì •ë³´ ì¡°íšŒ</h2>
    <input type="text" id="nameInput" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”">
    <br>
    <button onclick="lookup()">ì¡°íšŒí•˜ê¸°</button>
    <div class="result" id="resultBox" style="display:none;"></div>
    <hr>
    <input type="password" id="adminPass" placeholder="ë¹„ë°€ë²ˆí˜¸ ì…ë ¥">
    <button onclick="checkPassword()">ê´€ë¦¬ì ì ‘ì†</button>

    <div class="admin-panel" id="adminPanel">
      <button class="close-btn" onclick="closeAdmin()">Ã—</button>
      <h3>ğŸš§ ê´€ë¦¬ì ì •ë³´ ì¶”ê°€/ìˆ˜ì •/ì‚­ì œ</h3>
      <input type="text" id="adminName" placeholder="ì´ë¦„">

      <select id="adminCompany">
        <option disabled selected>ì—…ì²´ëª… ì„ íƒ</option>
        <option>ì½”ìŠ¤ì›</option><option>ì˜ˆê·¸ë¦¬ë‚˜</option><option>ìœ ì”¨ì—˜</option><option>í—µìŠ¤ì¼</option><option>ì´ì‹œìŠ¤ì½”ìŠ¤ë©”í‹±</option>
        <option>ë·°ëœì½”ë¦¬ì•„</option><option>í™”ì¸ê¸€ë¡œë²Œë©</option><option>ì—ìŠ¤íˆ¬ì œì•½</option><option>í”¼ì—˜ì½”ìŠ¤ë©”í‹±</option><option>ë„¤ì´ì²˜ì¸íŠ¸ë¡œ</option>
        <option>ë¦¬ì¦ˆì½”ìŠ¤</option><option>ë¹„ì•Œì½”ìŠ¤</option><option>ëŒ€í•œìƒëª…ë°”ì´ì˜¤</option><option>ì—ìŠ¤ì•¤ì œì´</option><option>ì‰ê¸€ìš°ë“œë©</option>
        <option>ESì½”ìŠ¤ë©”í‹±</option><option>ì½”ìŠ¤í˜ì´ìŠ¤</option><option>ìœ ë‹ˆí´ë¡œë²„</option><option>NFC</option><option>ì¤‘ì•™ë°”ì´ì˜¤í…</option>
        <option>í•˜ì´ê²Œì¸ì•ˆí…Œë‚˜</option><option>ë™ì¸ì „ê¸°</option><option>ì‚¼ì„±í¬ë¦¬ë¨¸</option><option>íƒ­ì½”ë¦¬ì•„</option><option>ì—”í”¼ì— í…</option><option>ì œì¼ë°”ì´ì˜¤</option>
      </select>

      <select id="adminTime">
        <option disabled selected>ì¶œë°œì‹œê°„ ì„ íƒ</option>
        <option>07:00</option><option>07:30</option><option>08:00</option>
      </select>

      <select id="adminCar">
        <option disabled selected>ì°¨ëŸ‰ë²ˆí˜¸ ì„ íƒ</option>
        <option>77ë³´9040</option><option>75ë³´7727</option><option>71ë§ˆ1375</option><option>71ë‹¤1165</option><option>71ë³´6549</option>
        <option>72ë‘8789</option><option>2721(í•˜ì´ê²Œì¸)</option><option>8232(ë‚¨ë™)</option><option>15äººíƒ•ê¸°ì‚¬</option>
      </select>

      <select id="adminColor">
        <option disabled selected>ì°¨ëŸ‰ ìƒ‰ìƒ ì„ íƒ</option>
        <option>ë…¸ë€ìƒ‰</option><option>íŒŒë€ìƒ‰</option><option>ì€ìƒ‰</option><option>ë¹¨ê°„ìƒ‰</option>
      </select>

      <button onclick="addData()">ì¶”ê°€/ìˆ˜ì •</button>
      <button onclick="deleteData()" style="background: #f44336; color: white;">ì‚­ì œ</button>
      <div id="adminNotice" style="margin-top: 1rem; color: green;"></div>
      <h4 style="margin-top: 2rem;">ğŸ‘¥ í˜„ì¬ ë“±ë¡ëœ ê·¼ë¡œì ëª©ë¡</h4>
      <div class="worker-list" id="workerList"></div>
    </div>
  </div>

  <script>
    let data = [];

    function lookup() {
      const nameInput = document.getElementById('nameInput').value.trim();
      const result = data.find(d => d.name === nameInput);
      const resultBox = document.getElementById('resultBox');

      if (result) {
        resultBox.innerHTML = `
          <strong>ì—…ì²´ëª…:</strong> ${result.company}<br>
          <strong>ì¶œë°œì‹œê°„:</strong> ${result.time}<br>
          <strong>ì°¨ëŸ‰ë²ˆí˜¸:</strong> ${result.car}<br>
          <strong>ìƒ‰ìƒ:</strong> ${result.color}
        `;
        resultBox.style.display = 'block';
      } else {
        resultBox.innerHTML = "í•´ë‹¹ ì´ë¦„ì˜ ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.";
        resultBox.style.display = 'block';
      }
    }

    function checkPassword() {
      const input = document.getElementById('adminPass').value;
      const panel = document.getElementById('adminPanel');
      if (input === '1234') {
        panel.style.display = 'block';
        updateWorkerList();
      } else {
        alert("ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë ¸ìŠµë‹ˆë‹¤.");
      }
    }

    function closeAdmin() {
      document.getElementById('adminPanel').style.display = 'none';
    }

    function addData() {
      const name = document.getElementById('adminName').value.trim();
      const company = document.getElementById('adminCompany').value;
      const time = document.getElementById('adminTime').value;
      const car = document.getElementById('adminCar').value;
      const color = document.getElementById('adminColor').value;
      const notice = document.getElementById('adminNotice');

      if (!name || !company || !time || !car || !color) {
        notice.style.color = 'red';
        notice.innerText = 'ëª¨ë“  í•­ëª©ì„ ì…ë ¥ ë˜ëŠ” ì„ íƒí•˜ì„¸ìš”.';
        return;
      }

      const index = data.findIndex(d => d.name === name);
      if (index !== -1) {
        data[index] = { name, company, time, car, color };
        notice.style.color = 'blue';
        notice.innerText = 'ê¸°ì¡´ ì •ë³´ê°€ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.';
      } else {
        data.push({ name, company, time, car, color });
        notice.style.color = 'green';
        notice.innerText = 'ìƒˆ ì •ë³´ê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.';
      }
      updateWorkerList();
    }

    function deleteData() {
      const name = document.getElementById('adminName').value.trim();
      const notice = document.getElementById('adminNotice');
      const index = data.findIndex(d => d.name === name);
      if (index !== -1) {
        data.splice(index, 1);
        notice.style.color = 'orange';
        notice.innerText = 'í•´ë‹¹ ì¸ì›ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.';
      } else {
        notice.style.color = 'red';
        notice.innerText = 'ì‚­ì œí•  ì¸ì›ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.';
      }
      updateWorkerList();
    }

    function updateWorkerList() {
      const listBox = document.getElementById('workerList');
      listBox.innerHTML = data.map(d => `<div><strong>${d.name}</strong> - ${d.company}, ${d.time}, ${d.car}, ${d.color}</div>`).join('');
    }
  </script>
</body>
</html>
